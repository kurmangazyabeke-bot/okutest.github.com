<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Oqualani Test ‚Äî –¢–µ—Å—Ç</title>
<link rel="stylesheet" href="style.css">
<style>
body {font-family: Arial, sans-serif; background:#f0f4ff; margin:0;}
.navbar {background:#3b82f6; color:white; padding:15px;}
.navbar ul {display:flex; list-style:none; gap:15px; padding:0; margin:0;}
.navbar a {color:white; text-decoration:none;}
.wrap {padding:20px; max-width:900px; margin:auto;}
.question-card {background:white; padding:20px; margin-bottom:15px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1);}
.question-card h4 {margin:0 0 10px 0;}
.hint {font-size:14px; color:#6b7280; margin-bottom:10px;}
button {background:#3b82f6; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; margin-top:10px;}
button:hover {background:#2563eb;}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
#resultModal {
  display:none; position:fixed; top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.5);
  justify-content:center; align-items:center;
}
.modal-content {
  background:white;
  width:90%;
  max-width:1000px;
  display:flex;
  gap:20px;
  border-radius:10px;
  padding:20px;
}
.modal-left, .modal-right {flex:1; min-width:300px;}
.modal-left {
  background:#f9fafb; padding:15px;
  border-radius:10px; max-height:70vh; overflow-y:auto;
}
.modal-left table {width:100%; border-collapse:collapse;}
.modal-left th, .modal-left td {
  border-bottom:1px solid #ddd;
  padding:5px; text-align:left;
}
.modal-right {
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
}
.modal-buttons {
  display:flex; gap:15px;
  margin-top:20px; justify-content:center;
}
#nextLevelBtn, #retryBtn {
  padding:10px 18px; font-weight:600;
}
</style>
</head>
<body>

<header class="navbar">
  <div class="nav-inner">
    <h1>üíª Oqualani Test</h1>
    <nav>
      <ul>
        <li><a href="index.html">–ë–∞—Å—Ç—ã –±–µ—Ç</a></li>
        <li><a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
        <li><a href="login.html">–ö—ñ—Ä—É</a></li>
        <li><a href="register.html">–¢—ñ—Ä–∫–µ–ª—É</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="wrap">
  <h2 id="levelTitle">1-–¥–µ“£–≥–µ–π: –ù–µ–≥—ñ–∑–¥–µ—Ä (–û“£–∞–π)</h2>
  <div id="questionsContainer"></div>
  <button id="finishBtn">–¢–µ—Å—Ç—ñ –∞—è“õ—Ç–∞—É</button>
</main>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ -->
<div id="resultModal">
  <div class="modal-content">
    <div class="modal-left">
      <h3>“ö–∞—Ç–µ –∂–∞—É–∞–ø—Ç–∞—Ä</h3>
      <table>
        <thead>
          <tr>
            <th>–°“±—Ä–∞“õ</th>
            <th>–°—ñ–∑–¥—ñ“£ –∂–∞—É–∞–±—ã“£—ã–∑</th>
            <th>–ö–µ“£–µ—Å</th>
          </tr>
        </thead>
        <tbody id="wrongTableBody"></tbody>
      </table>
    </div>
    <div class="modal-right">
      <canvas id="resultChart" style="max-width:280px;"></canvas>
      <div class="modal-buttons">
        <button id="retryBtn">“ö–∞–π—Ç–∞ —Ç–∞–ø—Å—ã—Ä—É</button>
        <button id="nextLevelBtn">–ö–µ–ª–µ—Å—ñ –¥–µ“£–≥–µ–π</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const tests = [
  {
    level:1,
    title:'1-–¥–µ“£–≥–µ–π: –ù–µ–≥—ñ–∑–¥–µ—Ä (–û“£–∞–π)',
    questions:[
      {q:'–ö–æ–º–ø—å—é—Ç–µ—Ä–¥—ñ“£ ¬´–º–∏—ã¬ª –¥–µ–ø –∞—Ç–∞–ª–∞—Ç—ã–Ω –∂”ô–Ω–µ –±–∞—Ä–ª—ã“õ –Ω–µ–≥—ñ–∑–≥—ñ –µ—Å–µ–ø—Ç–µ—É–ª–µ—Ä –º–µ–Ω –Ω“±—Å“õ–∞—É–ª–∞—Ä–¥—ã –æ—Ä—ã–Ω–¥–∞–π—Ç—ã–Ω “õ“±—Ä—ã–ª“ì—ã “õ–∞–Ω–¥–∞–π?', options:['–ú–æ–Ω–∏—Ç–æ—Ä','–û—Ä—Ç–∞–ª—ã“õ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (CPU)','–ü–µ—Ä–Ω–µ—Ç–∞“õ—Ç–∞'], answer:1, hint:'–ë“±–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞“õ–ø–∞—Ä–∞—Ç—Ç—ã ”©“£–¥–µ—É–≥–µ –∂–∞—É–∞–ø—Ç—ã –∂”ô–Ω–µ –∂“Ø–π–µ–Ω—ñ“£ –∂—ã–ª–¥–∞–º–¥—ã“ì—ã–Ω—ã“£ –Ω–µ–≥—ñ–∑—ñ –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã.'},
      {q:'–í–µ–±-–±–µ—Ç—Ç–µ—Ä–¥—ñ “õ–∞—Ä–∞—É –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—Ç–µ —à–∞—Ä–ª–∞—É “Ø—à—ñ–Ω “õ–∞–Ω–¥–∞–π –±–∞“ì–¥–∞—Ä–ª–∞–º–∞ “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?', options:['–ú”ô—Ç—ñ–Ω–¥—ñ–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä','–û–ø–µ—Ä–∞—Ü–∏—è–ª—ã“õ –∂“Ø–π–µ','–ë—Ä–∞—É–∑–µ—Ä'], answer:2, hint:'Google Chrome, Mozilla Firefox –∂”ô–Ω–µ Safari ‚Äî –æ—Å—ã —Ç–∏–ø—Ç–µ–≥—ñ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—Ä–¥—ã“£ –º—ã—Å–∞–ª—ã.'},
      {q:'–ö–æ–º–ø—å—é—Ç–µ—Ä–¥—ñ“£ –±–∞—Ä–ª—ã“õ —Ä–µ—Å—É—Ä—Å—Ç–∞—Ä—ã–Ω –±–∞—Å“õ–∞—Ä–∞—Ç—ã–Ω –Ω–µ–≥—ñ–∑–≥—ñ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞ “õ–∞–ª–∞–π –∞—Ç–∞–ª–∞–¥—ã?', options:['–ê–Ω—Ç–∏–≤–∏—Ä—É—Å','–û–ø–µ—Ä–∞—Ü–∏—è–ª—ã“õ –∂“Ø–π–µ','“ö–æ—Å—ã–º—à–∞ –±–∞“ì–¥–∞—Ä–ª–∞–º–∞'], answer:1, hint:'–ú—ã—Å–∞–ª–¥–∞—Ä ‚Äî Windows, macOS –∂”ô–Ω–µ Linux.'},
      {q:'–≠–ª–µ–∫—Ç—Ä–æ–Ω–¥—ã“õ –ø–æ—à—Ç–∞ –º–µ–∫–µ–Ω–∂–∞–π—ã–Ω–¥–∞ “õ–∞–Ω–¥–∞–π —Ç–∞“£–±–∞ “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?', options:['@ (–∞—Ç)','# (—Ä–µ—à–µ—Ç–∫–∞)','$ (–¥–æ–ª–ª–∞—Ä)'], answer:0, hint:'–ë“±–ª —Ç–∞“£–±–∞ ¬´“õ–∞–±—ã–ª–¥–∞—É—à—ã¬ª –Ω–µ–º–µ—Å–µ ¬´-–¥–∞¬ª –¥–µ–≥–µ–Ω–¥—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ.'},
      {q:'–ñ“±–º—ã—Å “Ø—Å—Ç–µ–ª—ñ–Ω–¥–µ–≥—ñ –∫—ñ—à–∫–µ–Ω—Ç–∞–π –≥—Ä–∞—Ñ–∏–∫–∞–ª—ã“õ —Å—É—Ä–µ—Ç “õ–∞–ª–∞–π –∞—Ç–∞–ª–∞–¥—ã?', options:['–ò–∫–æ–Ω–∫–∞','“ö–∞–ø—à–∞','–í–∏–¥–∂–µ—Ç'], answer:0, hint:'–û–±—ä–µ–∫—Ç—ñ–Ω—ñ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è–ª–∞—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.'},
      {q:'Wi-Fi –¥–µ–≥–µ–Ω—ñ–º—ñ–∑ –Ω–µ?', options:['–ë–µ–π–Ω–µ—Ñ–∞–π–ª','–°—ã–º—Å—ã–∑ –∂–µ–ª—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Å—ã','–ú”ô—Ç—ñ–Ω–¥—ñ–∫ “õ“±–∂–∞—Ç'], answer:1, hint:'–ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∫–µ —Å—ã–º—Å—ã–∑ “õ–æ—Å—ã–ª—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.'},
      {q:'–ê“õ–ø–∞—Ä–∞—Ç –∫”©–ª–µ–º—ñ–Ω ”©–ª—à–µ—É–¥—ñ“£ 1024 –±–∞–π—Ç“õ–∞ —Ç–µ“£ –±—ñ—Ä–ª—ñ–≥—ñ “õ–∞–Ω–¥–∞–π?', options:['–ì–∏–≥–∞–±–∞–π—Ç (GB)','–ö–∏–ª–æ–±–∞–π—Ç (KB)','–ú–µ–≥–∞–±–∞–π—Ç (MB)'], answer:1, hint:'¬´–ö–∏–ª–æ¬ª –ø—Ä–µ—Ñ–∏–∫—Å—ñ 1024 –±–∞–π—Ç—Ç—ã –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ.'},
      {q:'–¢”©–º–µ–Ω–¥–µ–≥—ñ–ª–µ—Ä–¥—ñ“£ “õ–∞–π—Å—ã—Å—ã –µ–Ω–≥—ñ–∑—É “õ“±—Ä—ã–ª“ì—ã—Å—ã –±–æ–ª—ã–ø —Ç–∞–±—ã–ª–∞–¥—ã?', options:['–ü—Ä–∏–Ω—Ç–µ—Ä','–ú–æ–Ω–∏—Ç–æ—Ä','–¢—ñ–Ω—Ç—É—ñ—Ä'], answer:2, hint:'–ö”©—Ä—Å–µ—Ç–∫—ñ—à—Ç—ñ –±–∞—Å“õ–∞—Ä—É“ì–∞ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫ –±–µ—Ä–µ–¥—ñ.'},
      {q:'–î–µ—Ä–µ–∫—Ç–µ—Ä –∞–ª–º–∞—Å—É “Ø—à—ñ–Ω “õ–æ—Å—ã–ª“ì–∞–Ω –∫–æ–º–ø—å—é—Ç–µ—Ä–ª–µ—Ä –∂–∏—ã–Ω—Ç—ã“ì—ã “õ–∞–ª–∞–π –∞—Ç–∞–ª–∞–¥—ã?', options:['–ñ–µ–ª—ñ','–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞','–î—Ä–∞–π–≤–µ—Ä'], answer:0, hint:'–õ–æ–∫–∞–ª–¥—ã (LAN) –∂”ô–Ω–µ “ì–∞–ª–∞–º–¥—ã“õ (WAN) –∂–µ–ª—ñ–ª–µ—Ä –±–∞—Ä.'},
      {q:'“ö–∞—Ç—Ç—ã –¥–∏—Å–∫ –Ω–µ “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã?', options:['–£–∞“õ—ã—Ç—à–∞ —Å–∞“õ—Ç–∞—É','“∞–∑–∞“õ –º–µ—Ä–∑—ñ–º–¥—ñ —Å–∞“õ—Ç–∞—É','–°—É—Ä–µ—Ç —à—ã“ì–∞—Ä—É'], answer:1, hint:'–ö–æ–º–ø—å—é—Ç–µ—Ä ”©—à—ñ—Ä—ñ–ª–≥–µ–Ω–¥–µ –¥–µ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞–π–¥—ã.'},
      {q:'¬´–§–∞–π–ª¬ª –¥–µ–≥–µ–Ω—ñ–º—ñ–∑ –Ω–µ?', options:['–ï–Ω–≥—ñ–∑—É “õ“±—Ä—ã–ª“ì—ã—Å—ã','–ê—Ç–∞—É–ª—ã –¥–µ—Ä–µ–∫—Ç–µ—Ä –∞–π–º–∞“ì—ã','–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–¥–∞“ì—ã “õ–∞—Ç–µ'], answer:1, hint:'–ê—Ç–∞—É—ã –º–µ–Ω –∫–µ“£–µ–π—Ç—ñ–º—ñ –±–∞—Ä (–º—ã—Å–∞–ª—ã, .jpg).'},
      {q:'“ö–∞–Ω–¥–∞–π –ø–µ—Ä–Ω–µ–ª–µ—Ä –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Å—ã ”ô—Ä–µ–∫–µ—Ç—Ç—ñ –±–æ–ª–¥—ã—Ä–º–∞–π–¥—ã?', options:['Ctrl + P','Ctrl + S','Ctrl + Z'], answer:2, hint:'–ë“±–ª –∫–æ–º–∞–Ω–¥–∞ –∂–∏—ñ —Ç“Ø–∑–µ—Ç—É–ª–µ—Ä “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.'},
      {q:'“ö–∞–Ω–¥–∞–π –∂–∞–¥—ã —Ç–µ–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä “õ–æ—Å—ã–ª“ì–∞–Ω –∫–µ–∑–¥–µ –¥–µ—Ä–µ–∫—Ç–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞–π–¥—ã?', options:['–û–ø–µ—Ä–∞—Ç–∏–≤—Ç—ñ–∫ –∂–∞–¥—ã (RAM)','–¢“±—Ä–∞“õ—Ç—ã –∂–∞–¥—ã (ROM)','–§–ª—ç—à-–∂–∞–¥'], answer:0, hint:'–û–ó–£ –Ω–µ“ì“±—Ä–ª—ã–º –∫”©–ø –±–æ–ª—Å–∞, –∂“Ø–π–µ —Å–æ“ì“±—Ä–ª—ã–º –∂—ã–ª–¥–∞–º –∂“±–º—ã—Å —ñ—Å—Ç–µ–π–¥—ñ.'},
      {q:'“ö–∞–Ω–¥–∞–π “õ“±—Ä—ã–ª“ì—ã –∞“õ–ø–∞—Ä–∞—Ç—Ç—ã “õ–∞“ì–∞–∑“ì–∞ —à—ã“ì–∞—Ä–∞–¥—ã?', options:['–°–∫–∞–Ω–µ—Ä','–ü—Ä–∏–Ω—Ç–µ—Ä','–ú–æ–¥–µ–º'], answer:1, hint:'“ö“±–∂–∞—Ç—Ç–∞—Ä–¥—ã –±–∞—Å—ã–ø —à—ã“ì–∞—Ä—É “Ø—à—ñ–Ω “õ–æ–ª–¥–∞–Ω—ã–ª–∞–¥—ã.'},
      {q:'–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª—ã“õ “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç—É–≥–µ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∂–∞–ª–ø—ã —Ç–µ—Ä–º–∏–Ω “õ–∞–ª–∞–π –∞—Ç–∞–ª–∞–¥—ã?', options:['“ö–∞—Ç—Ç—ã –∂–∞–±–¥—ã“õ','–ë–∞“ì–¥–∞—Ä–ª–∞–º–∞','–î—Ä–∞–π–≤–µ—Ä'], answer:1, hint:'–ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ–Ω–µ–Ω ¬´software¬ª —Å”©–∑—ñ–Ω–µ–Ω –∞–ª—ã–Ω“ì–∞–Ω.'}
    ]
  }
];

let currentLevel = 0;
let userAnswers = [];
const questionsContainer = document.getElementById('questionsContainer');
const levelTitle = document.getElementById('levelTitle');

function renderQuestions(){
  const test = tests[currentLevel];
  levelTitle.textContent = test.title;
  userAnswers = Array(test.questions.length).fill(null);
  questionsContainer.innerHTML='';
  test.questions.forEach((q,i)=>{
    const card=document.createElement('div');
    card.className='question-card';
    card.innerHTML=`<h4>–°“±—Ä–∞“õ ${i+1}: ${q.q}</h4><div class="hint">${q.hint}</div>`;
    q.options.forEach((opt,j)=>{
      const label=document.createElement('label');
      label.style.display='block';
      label.innerHTML=`<input type="radio" name="q${i}" value="${j}"> ${opt}`;
      label.querySelector('input').addEventListener('change',()=>userAnswers[i]=j);
      card.appendChild(label);
    });
    questionsContainer.appendChild(card);
  });
}

function finishTest(){
  const test=tests[currentLevel];
  let correct=0;
  const wrongAnswers=[];
  userAnswers.forEach((ans,i)=>{
    if(ans===test.questions[i].answer) correct++;
    else wrongAnswers.push({
      question:test.questions[i].q,
      userAnswer:ans!==null?test.questions[i].options[ans]:'–ñ–∞—É–∞–ø –±–µ—Ä—ñ–ª–º–µ–¥—ñ',
      hint:test.questions[i].hint
    });
  });
  const percent=Math.round(correct/test.questions.length*100);
  const tbody=document.getElementById('wrongTableBody');
  tbody.innerHTML='';
  wrongAnswers.forEach(w=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${w.question}</td><td>${w.userAnswer}</td><td>${w.hint}</td>`;
    tbody.appendChild(tr);
  });

  const ctx=document.getElementById('resultChart').getContext('2d');
  if(window.chartInstance) window.chartInstance.destroy();
  window.chartInstance=new Chart(ctx,{
    type:'doughnut',
    data:{
      labels:['–î“±—Ä—ã—Å','“ö–∞—Ç–µ'],
      datasets:[{data:[percent,100-percent],backgroundColor:['#16a34a','#ef4444'],borderWidth:2,borderColor:'#fff'}]
    },
    options:{
      responsive:true,
      plugins:{
        legend:{position:'bottom'},
        tooltip:{callbacks:{label:(ctx)=>ctx.label+': '+ctx.raw+'%'}}
      }
    }
  });

  let activeUser = JSON.parse(localStorage.getItem('activeUser') || 'null');
  if(activeUser){
    if(!activeUser.results) activeUser.results=[];
    activeUser.results[test.level-1]=percent;
    localStorage.setItem('activeUser', JSON.stringify(activeUser));
  }

  document.getElementById('resultModal').style.display='flex';
  document.getElementById('retryBtn').onclick=()=>{
    document.getElementById('resultModal').style.display='none';
    renderQuestions();
  };

  const nextBtn=document.getElementById('nextLevelBtn');
  if(percent>=65){
    nextBtn.style.display='inline-block';
    nextBtn.onclick=()=>location.href='test2.html';
  } else nextBtn.style.display='none';
}

document.getElementById('finishBtn').addEventListener('click',finishTest);
renderQuestions();
</script>
</body>
</html>
